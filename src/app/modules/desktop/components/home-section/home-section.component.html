<div class="home-section">
  <h4 class="home-section-sub-title">
    Upfront Team: {{ globalState.playerDataAcessor.digimonList.length }}/
    {{ this.globalState.listsLimits.team }}
  </h4>
  <div
    [id]="teamListId"
    class="my-digimon-list"
    #teamList="cdkDropList"
    cdkDropList
    cdkDropListOrientation="horizontal"
    [cdkDropListData]="globalState.playerDataAcessor"
    [cdkDropListConnectedTo]="[
      hospitalListId,
      inTrainingListId,
      bitFarmingListId
    ]"
    (cdkDropListDropped)="drop($event)"
  >
    @for(digimon of globalState.playerDataAcessor.digimonList; track
    digimon.id){
    <app-digi-status-card
      cdkDrag
      [digimon]="digimon"
      (click)="openDigimonDetailsModal(digimon)"
      (contextmenu)="removeDigimonFromLocation($event, digimon, 'team')"
    />
    } @empty {
    <div class="my-digimon-list-no-data-container">
      <h4>No digimon</h4>
    </div>
    }
  </div>
  <div class="hospital-area-container">
    <div class="hospital-area-header">
      <div class="hospital-area-header-column">
        <app-button
          [text]="'Heal All for ' + fullHealPrice + ' Bits'"
          [disabled]="!canHealAll()"
          (click)="healAll()"
        />
      </div>
      <div class="hospital-area-header-column">
        <h4 class="hospital-area-title">
          Hospital:
          {{ globalState.playerDataAcessor.hospitalDigimonList.length }}/{{
            globalState.listsLimits.hospital
          }}
        </h4>
        <span class="countdown">
          Next healing in {{ globalState.hospitalHealingCountdown() }}
        </span>
      </div>
    </div>
    <div
      [id]="hospitalListId"
      class="hospital-digimon-list"
      #inTrainingList="cdkDropList"
      cdkDropList
      cdkDropListOrientation="horizontal"
      [cdkDropListData]="globalState.playerDataAcessor"
      [cdkDropListConnectedTo]="[
        teamListId,
        bitFarmingListId,
        inTrainingListId
      ]"
      (cdkDropListDropped)="drop($event)"
    >
      @for(digimon of globalState.playerDataAcessor.hospitalDigimonList; track
      digimon.id){
      <app-digi-status-card
        cdkDrag
        [digimon]="digimon"
        (click)="openDigimonDetailsModal(digimon)"
        (contextmenu)="removeDigimonFromLocation($event, digimon, 'hospital')"
      />
      } @empty {
      <div class="hospital-digimon-list-no-data-container">
        <h4>No Digimon</h4>
      </div>
      }
    </div>
  </div>
</div>
