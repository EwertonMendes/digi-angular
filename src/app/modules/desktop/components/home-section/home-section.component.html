<div class="home-section">
  <h4 class="home-section-sub-title">
    Upfront Team: {{ globalState.playerDataAcessor.digimonList.length }}/
    {{ this.globalState.listsLimits.team }}
  </h4>
  <div
    [id]="teamListId"
    class="my-digimon-list"
    #teamList="cdkDropList"
    cdkDropList
    [cdkDropListData]="globalState.playerDataAcessor"
    [cdkDropListConnectedTo]="[
      hospitalListId,
      inTrainingListId,
      bitFarmingListId
    ]"
    (cdkDropListDropped)="drop($event)"
  >
    @if(globalState.playerDataAcessor.digimonList.length === 0){
    <div class="my-digimon-list-no-data-container">
      <h4>No digimon</h4>
    </div>
    } @for(digimon of globalState.playerDataAcessor.digimonList; track
    digimon.id){
    <app-digi-status-card
      cdkDrag
      [digimon]="digimon"
      (click)="openDigimonDetailsModal(digimon)"
      (contextmenu)="removeDigimonFromLocation($event, digimon, 'team')"
    />
    }
  </div>
  <div class="hospital-area-container">
    <div class="hospital-area-header">
      <h4 class="hospital-area-title">Hospital</h4>
      <span class="countdown">
        Next healing in {{ globalState.hospitalHealingCountdown() }}
      </span>
    </div>
    <div
      [id]="hospitalListId"
      class="hospital-digimon-list"
      #inTrainingList="cdkDropList"
      cdkDropList
      [cdkDropListData]="globalState.playerDataAcessor"
      [cdkDropListConnectedTo]="[
        teamListId,
        bitFarmingListId,
        inTrainingListId
      ]"
      (cdkDropListDropped)="drop($event)"
    >
      @if(globalState.playerDataAcessor.hospitalDigimonList.length === 0){
      <div class="hospital-digimon-list-no-data-container">
        <h4>No digimon</h4>
      </div>
      } @for(digimon of globalState.playerDataAcessor.hospitalDigimonList; track
      digimon.id){
      <app-digi-status-card
        cdkDrag
        [digimon]="digimon"
        (click)="openDigimonDetailsModal(digimon)"
        (contextmenu)="removeDigimonFromLocation($event, digimon, 'hospital')"
      />
      }
    </div>
  </div>
</div>
